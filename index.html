<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.13.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Ada: Ada</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript">
  DoxygenAwesomeDarkModeToggle.init()
  DoxygenAwesomeFragmentCopyButton.init()
  DoxygenAwesomeParagraphLink.init()
  DoxygenAwesomeInteractiveToc.init()
</script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="cookie.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only.css" rel="stylesheet" type="text/css"/>
<link href="doxygen-awesome-sidebar-only-darkmode-toggle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">Ada<span id="projectnumber">&#160;3.1.1</span>
   </div>
   <div id="projectbrief">Fast spec-compliant URL parser</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.13.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() { codefold.init(0); });
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search',true);
  $(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function(){initNavTree('index.html',''); initResizable(true); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Ada </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><a class="anchor" id="md_README"></a></p>
<p><a href="https://securityscorecards.dev/viewer/?uri=github.com/ada-url/ada"><img src="https://api.securityscorecards.dev/projects/github.com/ada-url/ada/badge" alt="OpenSSF Scorecard" class="inline"/></a> <a href="https://bestpractices.coreinfrastructure.org/projects/7085"><img src="https://bestpractices.coreinfrastructure.org/projects/7085/badge" alt="OpenSSF Best Practices" class="inline"/></a> <a href="https://github.com/ada-url/ada/actions/workflows/ubuntu.yml"><img src="https://github.com/ada-url/ada/actions/workflows/ubuntu.yml/badge.svg" alt="Ubuntu 22.04" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/ada-url/ada/actions/workflows/visual_studio.yml"><img src="https://github.com/ada-url/ada/actions/workflows/visual_studio.yml/badge.svg" alt="VS17-CI" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/ada-url/ada/actions/workflows/visual_studio_clang.yml"><img src="https://github.com/ada-url/ada/actions/workflows/visual_studio_clang.yml/badge.svg" alt="VS17-clang-CI" style="pointer-events: none;" class="inline"/></a> <a href="https://github.com/ada-url/ada/actions/workflows/ubuntu-s390x.yml"><img src="https://github.com/ada-url/ada/actions/workflows/ubuntu-s390x.yml/badge.svg" alt="Ubuntu s390x (GCC 11)" style="pointer-events: none;" class="inline"/></a></p>
<p>Ada is a fast and spec-compliant URL parser written in C++. Specification for URL parser can be found from the <a href="https://url.spec.whatwg.org/#url-parsing">WHATWG</a> website.</p>
<p>Ada library also includes a <a href="https://url.spec.whatwg.org/#urlpattern">URLPattern</a> implementation that is compatible with the <a href="https://github.com/web-platform-tests/wpt/tree/master/urlpattern">web-platform tests</a>.</p>
<p>The Ada library passes the full range of tests from the specification, across a wide range of platforms (e.g., Windows, Linux, macOS). It fully supports the relevant <a href="https://www.unicode.org/reports/tr46/#ToUnicode">Unicode Technical Standard</a>.</p>
<p>A common use of a URL parser is to take a URL string and normalize it. The WHATWG URL specification has been adopted by most browsers. Other tools, such as curl and many standard libraries, follow the RFC 3986. The following table illustrates possible differences in practice (encoding of the host, encoding of the path):</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadLeft">string source   </th><th class="markdownTableHeadLeft">string value    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">input string   </td><td class="markdownTableBodyLeft"><a href="https://www.7‑Eleven.com/Home/Privacy/Montréal">https://www.7‑Eleven.com/Home/Privacy/Montréal</a>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyLeft">ada's normalized string   </td><td class="markdownTableBodyLeft"><a href="https://www.xn&ndash;7eleven-506c.com/Home/Privacy/Montr%C3%A9al">https://www.xn&amp;ndash;7eleven-506c.com/Home/Privacy/Montr%C3%A9al</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyLeft">curl 7.87   </td><td class="markdownTableBodyLeft">(returns the original unchanged)   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md12"></a>
Ada is fast.</h1>
<p>On a benchmark where we need to validate and normalize <a href="https://github.com/ada-url/url-various-datasets/tree/main/top100">thousands URLs found on popular websites</a>, we find that ada can be several times faster than popular competitors (system: Apple MacBook 2022 with LLVM 14).</p>
<div class="fragment"><div class="line">      ada ▏  188 ns/URL ███▏</div>
<div class="line">servo url ▏  664 ns/URL ███████████▎</div>
<div class="line">     CURL ▏ 1471 ns/URL █████████████████████████</div>
</div><!-- fragment --><p>Ada has improved the performance of the popular JavaScript environment Node.js:</p>
<blockquote class="doxtable">
<p>Since Node.js 18, a new URL parser dependency was added to Node.js — Ada. This addition bumped the Node.js performance when parsing URLs to a new level. Some results could reach up to an improvement of <b>400%</b>. (<a href="https://blog.rafaelgss.dev/state-of-nodejs-performance-2023">State of Node.js Performance 2023</a>) </p>
</blockquote>
<p>The Ada library is used by important systems besides Node.js such as Redpanda, Kong, Telegram and Cloudflare Workers.</p>
<p><a href="https://www.youtube.com/watch?v=tQ-6OWRDsZg"><img src="http://img.youtube.com/vi/tQ-6OWRDsZg/0.jpg" alt="the ada library" class="inline"/></a><br  />
</p>
<h2><a class="anchor" id="autotoc_md13"></a>
Requirements</h2>
<p>The project is otherwise self-contained and it has no dependency. A recent C++ compiler supporting C++20. We test GCC 12 or better, LLVM 14 or better and Microsoft Visual Studio 2022.</p>
<h1><a class="anchor" id="autotoc_md14"></a>
Installation</h1>
<p>Binary packages for the following systems are currently available:</p>
<p><a href="https://repology.org/project/ada/versions"><img src="https://repology.org/badge/vertical-allrepos/ada.svg" alt="Packaging status" style="pointer-events: none;" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md15"></a>
Quick Start</h1>
<p>Linux or macOS users might follow the following instructions if they have a recent C++ compiler installed and a standard utility (<code>wget</code>)</p>
<ol type="1">
<li>Pull the library in a directory <div class="fragment"><div class="line">wget https://github.com/ada-url/ada/releases/download/v3.0.0/ada.cpp</div>
<div class="line">wget https://github.com/ada-url/ada/releases/download/v3.0.00/ada.h</div>
</div><!-- fragment --></li>
<li>Create a new file named <code>demo.cpp</code> with this content: <div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="d8/d50/ada_8cpp.html">ada.cpp</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &quot;<a class="code" href="d0/da8/ada_8h.html">ada.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;iostream&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span>, <span class="keywordtype">char</span> *[]) {</div>
<div class="line">  <span class="keyword">auto</span> url = <a class="code hl_function" href="dd/d64/namespaceada.html#af64c23f52049411702be65b780947d8b">ada::parse</a>(<span class="stringliteral">&quot;https://www.google.com&quot;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (!url) {</div>
<div class="line">    std::cout &lt;&lt; <span class="stringliteral">&quot;failure&quot;</span> &lt;&lt; std::endl;</div>
<div class="line">    <span class="keywordflow">return</span> EXIT_FAILURE;</div>
<div class="line">  }</div>
<div class="line">  url-&gt;set_protocol(<span class="stringliteral">&quot;http&quot;</span>);</div>
<div class="line">  std::cout &lt;&lt; url-&gt;get_protocol() &lt;&lt; std::endl;</div>
<div class="line">  std::cout &lt;&lt; url-&gt;get_host() &lt;&lt; std::endl;</div>
<div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="ttc" id="aada_8cpp_html"><div class="ttname"><a href="d8/d50/ada_8cpp.html">ada.cpp</a></div></div>
<div class="ttc" id="aada_8h_html"><div class="ttname"><a href="d0/da8/ada_8h.html">ada.h</a></div><div class="ttdoc">Includes all definitions for Ada.</div></div>
<div class="ttc" id="anamespaceada_html_af64c23f52049411702be65b780947d8b"><div class="ttname"><a href="dd/d64/namespaceada.html#af64c23f52049411702be65b780947d8b">ada::parse</a></div><div class="ttdeci">ada_warn_unused ada::result&lt; result_type &gt; parse(std::string_view input, const result_type *base_url=nullptr)</div><div class="ttdef"><b>Definition</b> <a href="d8/df6/implementation_8cpp_source.html#l00013">implementation.cpp:13</a></div></div>
</div><!-- fragment --></li>
<li>Compile <div class="fragment"><div class="line">c++ -std=c++20 -o demo demo.cpp</div>
</div><!-- fragment --></li>
<li><p class="startli"><code>./demo</code></p>
<div class="fragment"><div class="line">http:</div>
<div class="line">www.google.com</div>
</div><!-- fragment --></li>
</ol>
<h1><a class="anchor" id="autotoc_md16"></a>
Bindings of Ada</h1>
<p>The following libraries are maintained by the Ada team and available under <a href="https://github.com/ada-url">Ada GitHub organization</a>.</p>
<ul>
<li><a href="https://github.com/ada-url/rust">Rust</a>: Rust bindings for Ada</li>
<li><a href="https://github.com/ada-url/goada">Go</a>: Go bindings for Ada</li>
<li><a href="https://github.com/ada-url/python">Python</a>: Python bindings for Ada</li>
</ul>
<h2><a class="anchor" id="autotoc_md17"></a>
Community maintained</h2>
<ul>
<li><a href="https://github.com/schochastics/adaR">R</a>: R wrapper for Ada</li>
<li><a href="https://github.com/lnear-dev/ada-url">PHP</a>: PHP Wrapper for Ada URL</li>
<li><a href="https://github.com/bungle/lua-resty-ada">LuaJIT</a>: LuaJIT FFI bindings for Ada</li>
<li><a href="https://github.com/alperencantez/zigada">Zig</a>: Unofficial Zig bindings for Ada</li>
<li><a href="https://github.com/TkTech/can_ada">Python</a>: Python bindings for Ada</li>
<li><a href="https://github.com/KusStar/react-native-fast-url">React Native</a>: A Fast URL and URLSearchParams polyfill for React Native.</li>
<li><a href="https://github.com/kassane/ada-d">D</a>: D bindings for Ada, <code>@nogc</code>, <code>nothrow</code> and <code>@safe</code> compat.</li>
</ul>
<h1><a class="anchor" id="autotoc_md18"></a>
Usage</h1>
<p>Ada supports two types of URL instances, <code><a class="el" href="dd/d03/structada_1_1url.html" title="Generic URL struct reliant on std::string instantiation.">ada::url</a></code> and <code><a class="el" href="d8/d3b/structada_1_1url__aggregator.html" title="Lightweight URL struct.">ada::url_aggregator</a></code>. The usage is the same in either case: we have an parsing function template <code><a class="el" href="dd/d64/namespaceada.html#af64c23f52049411702be65b780947d8b">ada::parse</a></code> which can return either a result of type <code><a class="el" href="dd/d64/namespaceada.html#ae493e1ddb3e9a7bc3fd4f8935cd67b3b">ada::result</a>&lt;<a class="el" href="dd/d03/structada_1_1url.html" title="Generic URL struct reliant on std::string instantiation.">ada::url</a>&gt;</code> or of type <code><a class="el" href="dd/d64/namespaceada.html#ae493e1ddb3e9a7bc3fd4f8935cd67b3b">ada::result</a>&lt;<a class="el" href="d8/d3b/structada_1_1url__aggregator.html" title="Lightweight URL struct.">ada::url_aggregator</a>&gt;</code> depending on your needs. The <code><a class="el" href="d8/d3b/structada_1_1url__aggregator.html" title="Lightweight URL struct.">ada::url_aggregator</a></code> class is smaller and it is backed by a precomputed serialized URL string. The <code><a class="el" href="dd/d03/structada_1_1url.html" title="Generic URL struct reliant on std::string instantiation.">ada::url</a></code> class is made of several separate strings for the various components (path, host, and so forth).</p>
<h2><a class="anchor" id="autotoc_md19"></a>
Parsing &amp; Validation</h2>
<ul>
<li>Parse and validate a URL from an ASCII or a valid UTF-8 string.</li>
</ul>
<div class="fragment"><div class="line"><span class="keyword">auto</span> url = <a class="code hl_function" href="dd/d64/namespaceada.html#af64c23f52049411702be65b780947d8b">ada::parse&lt;ada::url_aggregator&gt;</a>(<span class="stringliteral">&quot;https://www.google.com&quot;</span>);</div>
<div class="line"><span class="keywordflow">if</span> (url) { <span class="comment">/* URL is valid */</span> }</div>
</div><!-- fragment --><p>After calling 'parse', you <em>must</em> check that the result is valid before accessing it when you are not sure that it will succeed. The following code is unsafe:</p>
<div class="fragment"><div class="line"><span class="keyword">auto</span>&gt; url = <a class="code hl_function" href="dd/d64/namespaceada.html#af64c23f52049411702be65b780947d8b">ada::parse&lt;ada::url_aggregator&gt;</a>(<span class="stringliteral">&quot;some bad url&quot;</span>);</div>
<div class="line">url-&gt;get_href();</div>
</div><!-- fragment --><p>For simplicity, in the examples below, we skip the check because we know that parsing succeeds. All strings are assumed to be valid UTF-8 strings.</p>
<h1><a class="anchor" id="autotoc_md20"></a>
Examples</h1>
<h1><a class="anchor" id="autotoc_md21"></a>
URL Parser</h1>
<div class="fragment"><div class="line"><span class="keyword">auto</span> url = <a class="code hl_function" href="dd/d64/namespaceada.html#af64c23f52049411702be65b780947d8b">ada::parse&lt;ada::url_aggregator&gt;</a>(<span class="stringliteral">&quot;https://www.google.com&quot;</span>);</div>
<div class="line"> </div>
<div class="line">url-&gt;set_username(<span class="stringliteral">&quot;username&quot;</span>); <span class="comment">// Update credentials</span></div>
<div class="line">url-&gt;set_password(<span class="stringliteral">&quot;password&quot;</span>);</div>
<div class="line"><span class="comment">// ada-&gt;get_href() will return &quot;https://username:password@www.google.com/&quot;</span></div>
<div class="line"> </div>
<div class="line">url-&gt;set_protocol(<span class="stringliteral">&quot;wss&quot;</span>); <span class="comment">// Update protocol</span></div>
<div class="line"><span class="comment">// url-&gt;get_protocol() will return &quot;wss:&quot;</span></div>
<div class="line"> </div>
<div class="line">url-&gt;set_host(<span class="stringliteral">&quot;github.com&quot;</span>); <span class="comment">// Update host</span></div>
<div class="line"><span class="comment">// url-&gt;get_host() will return &quot;github.com&quot;</span></div>
<div class="line"> </div>
<div class="line">url-&gt;set_port(<span class="stringliteral">&quot;8080&quot;</span>); <span class="comment">// Update port</span></div>
<div class="line"><span class="comment">// url-&gt;get_port() will return &quot;8080&quot;</span></div>
<div class="line"> </div>
<div class="line">url-&gt;set_pathname(<span class="stringliteral">&quot;/my-super-long-path&quot;</span>); <span class="comment">// Update pathname</span></div>
<div class="line"><span class="comment">// url-&gt;get_pathname() will return &quot;/my-super-long-path&quot;</span></div>
<div class="line"> </div>
<div class="line">url-&gt;set_search(<span class="stringliteral">&quot;target=self&quot;</span>); <span class="comment">// Update search</span></div>
<div class="line"><span class="comment">// url-&gt;get_search() will return &quot;?target=self&quot;</span></div>
<div class="line"> </div>
<div class="line">url-&gt;set_hash(<span class="stringliteral">&quot;is-this-the-real-life&quot;</span>); <span class="comment">// Update hash/fragment</span></div>
<div class="line"><span class="comment">// url-&gt;get_hash() will return &quot;#is-this-the-real-life&quot;</span></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md22"></a>
URL Search Params</h2>
<div class="fragment"><div class="line"><a class="code hl_struct" href="dd/dcb/structada_1_1url__search__params.html">ada::url_search_params</a> search_params(<span class="stringliteral">&quot;a=b&amp;c=d&amp;e=f&quot;</span>);</div>
<div class="line">search_params.append(<span class="stringliteral">&quot;g=h&quot;</span>);</div>
<div class="line"> </div>
<div class="line">search_params.get(<span class="stringliteral">&quot;g&quot;</span>);  <span class="comment">// will return &quot;h&quot;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">auto</span> keys = search_params.get_keys();</div>
<div class="line"><span class="keywordflow">while</span> (keys.has_next()) {</div>
<div class="line">  <span class="keyword">auto</span> key = keys.next();  <span class="comment">// &quot;a&quot;, &quot;c&quot;, &quot;e&quot;, &quot;g&quot;</span></div>
<div class="line">}</div>
<div class="ttc" id="astructada_1_1url__search__params_html"><div class="ttname"><a href="dd/dcb/structada_1_1url__search__params.html">ada::url_search_params</a></div><div class="ttdef"><b>Definition</b> <a href="da/dac/url__search__params_8h_source.html#l00040">url_search_params.h:40</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md23"></a>
URLPattern</h2>
<p>Our implementation doesn't provide a regex engine and leaves the decision of choosing the right engine to the user. This is done as a security measure since the default std::regex engine is not safe and open to DDOS attacks. Runtimes like Node.js and Cloudflare Workers use the V8 regex engine, which is safe and performant.</p>
<div class="fragment"><div class="line"><span class="comment">// Define a regex engine that conforms to the following interface</span></div>
<div class="line"><span class="comment">// For example we will use v8 regex engine</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span>v8_regex_provider {</div>
<div class="line"> <span class="keyword">public</span>:</div>
<div class="line">  v8_regex_provider() = <span class="keywordflow">default</span>;</div>
<div class="line">  <span class="keyword">using </span>regex_type = v8::Global&lt;v8::RegExp&gt;;</div>
<div class="line">  <span class="keyword">static</span> std::optional&lt;regex_type&gt; create_instance(std::string_view pattern,</div>
<div class="line">                                                   <span class="keywordtype">bool</span> ignore_case);</div>
<div class="line">  <span class="keyword">static</span> std::optional&lt;std::vector&lt;std::optional&lt;std::string&gt;&gt;&gt; regex_search(</div>
<div class="line">      std::string_view input, <span class="keyword">const</span> regex_type&amp; pattern);</div>
<div class="line">  <span class="keyword">static</span> <span class="keywordtype">bool</span> regex_match(std::string_view input, <span class="keyword">const</span> regex_type&amp; pattern);</div>
<div class="line">};</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Define a URLPattern</span></div>
<div class="line"><span class="keyword">auto</span> pattern = <a class="code hl_function" href="dd/d64/namespaceada.html#a403c6e9eba6d4868ef39294f833c3b58">ada::parse_url_pattern&lt;v8_regex_provider&gt;</a>(<span class="stringliteral">&quot;/books/:id(\\d+)&quot;</span>, <span class="stringliteral">&quot;https://example.com&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Check validity</span></div>
<div class="line"><span class="keywordflow">if</span> (!pattern) { <span class="keywordflow">return</span> EXIT_FAILURE; }</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Match a URL</span></div>
<div class="line"><span class="keyword">auto</span> match = pattern-&gt;match(<span class="stringliteral">&quot;https://example.com/books/123&quot;</span>);</div>
<div class="line"> </div>
<div class="line"><span class="comment">// Test a URL</span></div>
<div class="line"><span class="keyword">auto</span> matched = pattern-&gt;test(<span class="stringliteral">&quot;https://example.com/books/123&quot;</span>);</div>
<div class="ttc" id="anamespaceada_html_a403c6e9eba6d4868ef39294f833c3b58"><div class="ttname"><a href="dd/d64/namespaceada.html#a403c6e9eba6d4868ef39294f833c3b58">ada::parse_url_pattern</a></div><div class="ttdeci">ada_warn_unused tl::expected&lt; url_pattern&lt; regex_provider &gt;, errors &gt; parse_url_pattern(std::variant&lt; std::string_view, url_pattern_init &gt; input, const std::string_view *base_url, const url_pattern_options *options)</div><div class="ttdef"><b>Definition</b> <a href="de/d29/implementation-inl_8h_source.html#l00018">implementation-inl.h:18</a></div></div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md24"></a>
C wrapper</h2>
<p>See the file <code><a class="el" href="df/d61/ada__c_8h.html" title="Includes the C definitions for Ada. This is a C file, not C++.">include/ada_c.h</a></code> for our C interface. We expect ASCII or UTF-8 strings.</p>
<div class="fragment"><div class="line"><span class="preprocessor">#include &quot;<a class="code" href="df/d61/ada__c_8h.html">ada_c.h</a>&quot;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdio.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdlib.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;stdbool.h&gt;</span></div>
<div class="line"><span class="preprocessor">#include &lt;string.h&gt;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">static</span> <span class="keywordtype">void</span> ada_print(<a class="code hl_struct" href="d2/daa/structada__string.html">ada_string</a> <span class="keywordtype">string</span>) {</div>
<div class="line">  printf(<span class="stringliteral">&quot;%.*s\n&quot;</span>, (<span class="keywordtype">int</span>)<span class="keywordtype">string</span>.length, <span class="keywordtype">string</span>.data);</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> main(<span class="keywordtype">int</span> c, <span class="keywordtype">char</span> *arg[] ) {</div>
<div class="line">  <span class="keyword">const</span> <span class="keywordtype">char</span>* input =</div>
<div class="line">      <span class="stringliteral">&quot;https://username:password@www.google.com:8080/&quot;</span></div>
<div class="line">      <span class="stringliteral">&quot;pathname?query=true#hash-exists&quot;</span>;</div>
<div class="line">  <a class="code hl_typedef" href="df/d61/ada__c_8h.html#a94710a7b3fe3ecbf7a2113e015d423ba">ada_url</a> url = <a class="code hl_function" href="df/d61/ada__c_8h.html#a769af1f10e5c8407a02afc1eddfeacba">ada_parse</a>(input, strlen(input));</div>
<div class="line">  <span class="keywordflow">if</span>(!<a class="code hl_function" href="df/d61/ada__c_8h.html#ab972152184cf854bd47dae0b8f1f184a">ada_is_valid</a>(url)) { puts(<span class="stringliteral">&quot;failure&quot;</span>); <span class="keywordflow">return</span> EXIT_FAILURE; }</div>
<div class="line">  ada_print(<a class="code hl_function" href="df/d61/ada__c_8h.html#ad947df503ad592fe266141faa6ed5b5d">ada_get_href</a>(url)); <span class="comment">// prints https://username:password@host:8080/pathname?query=true#hash-exists</span></div>
<div class="line">  ada_print(<a class="code hl_function" href="df/d61/ada__c_8h.html#a9cdeb5279529ab82057aec49227e3534">ada_get_protocol</a>(url)); <span class="comment">// prints https:</span></div>
<div class="line">  ada_print(<a class="code hl_function" href="df/d61/ada__c_8h.html#aa3ca533c9964f06679ae9112f8218a2b">ada_get_username</a>(url)); <span class="comment">// prints username</span></div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#a8f91cae7049729b7209cc109ffd24ec1">ada_set_href</a>(url, <span class="stringliteral">&quot;https://www.yagiz.co&quot;</span>, strlen(<span class="stringliteral">&quot;https://www.yagiz.co&quot;</span>));  </div>
<div class="line">  <span class="keywordflow">if</span>(!<a class="code hl_function" href="df/d61/ada__c_8h.html#ab972152184cf854bd47dae0b8f1f184a">ada_is_valid</a>(url)) { puts(<span class="stringliteral">&quot;failure&quot;</span>); <span class="keywordflow">return</span> EXIT_FAILURE; }</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#af7b3afce219ea6e237ffe07044e8604e">ada_set_hash</a>(url, <span class="stringliteral">&quot;new-hash&quot;</span>, strlen(<span class="stringliteral">&quot;new-hash&quot;</span>));</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#a5809782b099e95f9aed7bb1124d84da9">ada_set_hostname</a>(url, <span class="stringliteral">&quot;new-host&quot;</span>, strlen(<span class="stringliteral">&quot;new-host&quot;</span>));</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#a18b182a77e270b6b824353e82f931a22">ada_set_host</a>(url, <span class="stringliteral">&quot;changed-host:9090&quot;</span>, strlen(<span class="stringliteral">&quot;changed-host:9090&quot;</span>));</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#a6b2834cc90b92b29d1d2e65c752eceec">ada_set_pathname</a>(url, <span class="stringliteral">&quot;new-pathname&quot;</span>, strlen(<span class="stringliteral">&quot;new-pathname&quot;</span>));</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#ac716cfd3ad0ac26c83b5d4d0ffc87175">ada_set_search</a>(url, <span class="stringliteral">&quot;new-search&quot;</span>, strlen(<span class="stringliteral">&quot;new-search&quot;</span>));</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#ada26e66474296e31335e8642678aef5b">ada_set_protocol</a>(url, <span class="stringliteral">&quot;wss&quot;</span>, 3);  </div>
<div class="line">  ada_print(<a class="code hl_function" href="df/d61/ada__c_8h.html#ad947df503ad592fe266141faa6ed5b5d">ada_get_href</a>(url)); <span class="comment">// will print wss://changed-host:9090/new-pathname?new-search#new-hash</span></div>
<div class="line"> </div>
<div class="line">  <span class="comment">// Manipulating search params</span></div>
<div class="line">  <a class="code hl_struct" href="d2/daa/structada__string.html">ada_string</a> search = <a class="code hl_function" href="df/d61/ada__c_8h.html#aea81956480d2eb9af02d30a72b1ce85b">ada_get_search</a>(url);</div>
<div class="line">  <a class="code hl_typedef" href="df/d61/ada__c_8h.html#a73ad855eb43388c9d2d97b8dea8a83a4">ada_url_search_params</a> search_params =</div>
<div class="line">      <a class="code hl_function" href="df/d61/ada__c_8h.html#a0280988cb6e6e1c4e9a935147b461b16">ada_parse_search_params</a>(search.<a class="code hl_variable" href="d2/daa/structada__string.html#a091d98b7661f46d311cff4f06ab8889d">data</a>, search.<a class="code hl_variable" href="d2/daa/structada__string.html#a9493413d41e1003fd0da00457fccd94f">length</a>);</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#a2ff63854fd9243b04cee594765824d0f">ada_search_params_append</a>(search_params, <span class="stringliteral">&quot;a&quot;</span>, 1, <span class="stringliteral">&quot;b&quot;</span>, 1);</div>
<div class="line">  <a class="code hl_struct" href="df/d1e/structada__owned__string.html">ada_owned_string</a> <a class="code hl_typedef" href="dd/d64/namespaceada.html#ae493e1ddb3e9a7bc3fd4f8935cd67b3b">result</a> = <a class="code hl_function" href="df/d61/ada__c_8h.html#a8c98618c164f615a037f3530c0c1af0b">ada_search_params_to_string</a>(search_params);</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#ac716cfd3ad0ac26c83b5d4d0ffc87175">ada_set_search</a>(url, <a class="code hl_typedef" href="dd/d64/namespaceada.html#ae493e1ddb3e9a7bc3fd4f8935cd67b3b">result</a>.data, <a class="code hl_typedef" href="dd/d64/namespaceada.html#ae493e1ddb3e9a7bc3fd4f8935cd67b3b">result</a>.length);</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#a8881111dd3ac98e82db3ded7dfb56c86">ada_free_owned_string</a>(result);</div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#a62c4997e292d162f52f78f200bd56ed6">ada_free_search_params</a>(search_params);</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_function" href="df/d61/ada__c_8h.html#a92eb6dcfeebaff00509d9ebc394f07a3">ada_free</a>(url);</div>
<div class="line">  <span class="keywordflow">return</span> EXIT_SUCCESS;</div>
<div class="line">}</div>
<div class="ttc" id="aada__c_8h_html"><div class="ttname"><a href="df/d61/ada__c_8h.html">ada_c.h</a></div><div class="ttdoc">Includes the C definitions for Ada. This is a C file, not C++.</div></div>
<div class="ttc" id="aada__c_8h_html_a0280988cb6e6e1c4e9a935147b461b16"><div class="ttname"><a href="df/d61/ada__c_8h.html#a0280988cb6e6e1c4e9a935147b461b16">ada_parse_search_params</a></div><div class="ttdeci">ada_url_search_params ada_parse_search_params(const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00467">ada_c.cpp:467</a></div></div>
<div class="ttc" id="aada__c_8h_html_a18b182a77e270b6b824353e82f931a22"><div class="ttname"><a href="df/d61/ada__c_8h.html#a18b182a77e270b6b824353e82f931a22">ada_set_host</a></div><div class="ttdeci">bool ada_set_host(ada_url result, const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00245">ada_c.cpp:245</a></div></div>
<div class="ttc" id="aada__c_8h_html_a2ff63854fd9243b04cee594765824d0f"><div class="ttname"><a href="df/d61/ada__c_8h.html#a2ff63854fd9243b04cee594765824d0f">ada_search_params_append</a></div><div class="ttdeci">void ada_search_params_append(ada_url_search_params result, const char *key, size_t key_length, const char *value, size_t value_length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00516">ada_c.cpp:516</a></div></div>
<div class="ttc" id="aada__c_8h_html_a5809782b099e95f9aed7bb1124d84da9"><div class="ttname"><a href="df/d61/ada__c_8h.html#a5809782b099e95f9aed7bb1124d84da9">ada_set_hostname</a></div><div class="ttdeci">bool ada_set_hostname(ada_url result, const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00253">ada_c.cpp:253</a></div></div>
<div class="ttc" id="aada__c_8h_html_a62c4997e292d162f52f78f200bd56ed6"><div class="ttname"><a href="df/d61/ada__c_8h.html#a62c4997e292d162f52f78f200bd56ed6">ada_free_search_params</a></div><div class="ttdeci">void ada_free_search_params(ada_url_search_params result)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00473">ada_c.cpp:473</a></div></div>
<div class="ttc" id="aada__c_8h_html_a6b2834cc90b92b29d1d2e65c752eceec"><div class="ttname"><a href="df/d61/ada__c_8h.html#a6b2834cc90b92b29d1d2e65c752eceec">ada_set_pathname</a></div><div class="ttdeci">bool ada_set_pathname(ada_url result, const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00297">ada_c.cpp:297</a></div></div>
<div class="ttc" id="aada__c_8h_html_a73ad855eb43388c9d2d97b8dea8a83a4"><div class="ttname"><a href="df/d61/ada__c_8h.html#a73ad855eb43388c9d2d97b8dea8a83a4">ada_url_search_params</a></div><div class="ttdeci">void * ada_url_search_params</div><div class="ttdef"><b>Definition</b> <a href="df/d61/ada__c_8h_source.html#l00113">ada_c.h:113</a></div></div>
<div class="ttc" id="aada__c_8h_html_a769af1f10e5c8407a02afc1eddfeacba"><div class="ttname"><a href="df/d61/ada__c_8h.html#a769af1f10e5c8407a02afc1eddfeacba">ada_parse</a></div><div class="ttdeci">ada_url ada_parse(const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00068">ada_c.cpp:68</a></div></div>
<div class="ttc" id="aada__c_8h_html_a8881111dd3ac98e82db3ded7dfb56c86"><div class="ttname"><a href="df/d61/ada__c_8h.html#a8881111dd3ac98e82db3ded7dfb56c86">ada_free_owned_string</a></div><div class="ttdeci">void ada_free_owned_string(ada_owned_string owned)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00127">ada_c.cpp:127</a></div></div>
<div class="ttc" id="aada__c_8h_html_a8c98618c164f615a037f3530c0c1af0b"><div class="ttname"><a href="df/d61/ada__c_8h.html#a8c98618c164f615a037f3530c0c1af0b">ada_search_params_to_string</a></div><div class="ttdeci">ada_owned_string ada_search_params_to_string(ada_url_search_params result)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00478">ada_c.cpp:478</a></div></div>
<div class="ttc" id="aada__c_8h_html_a8f91cae7049729b7209cc109ffd24ec1"><div class="ttname"><a href="df/d61/ada__c_8h.html#a8f91cae7049729b7209cc109ffd24ec1">ada_set_href</a></div><div class="ttdeci">bool ada_set_href(ada_url result, const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00237">ada_c.cpp:237</a></div></div>
<div class="ttc" id="aada__c_8h_html_a92eb6dcfeebaff00509d9ebc394f07a3"><div class="ttname"><a href="df/d61/ada__c_8h.html#a92eb6dcfeebaff00509d9ebc394f07a3">ada_free</a></div><div class="ttdeci">void ada_free(ada_url result)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00096">ada_c.cpp:96</a></div></div>
<div class="ttc" id="aada__c_8h_html_a94710a7b3fe3ecbf7a2113e015d423ba"><div class="ttname"><a href="df/d61/ada__c_8h.html#a94710a7b3fe3ecbf7a2113e015d423ba">ada_url</a></div><div class="ttdeci">void * ada_url</div><div class="ttdef"><b>Definition</b> <a href="df/d61/ada__c_8h_source.html#l00039">ada_c.h:39</a></div></div>
<div class="ttc" id="aada__c_8h_html_a9cdeb5279529ab82057aec49227e3534"><div class="ttname"><a href="df/d61/ada__c_8h.html#a9cdeb5279529ab82057aec49227e3534">ada_get_protocol</a></div><div class="ttdeci">ada_string ada_get_protocol(ada_url result)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00212">ada_c.cpp:212</a></div></div>
<div class="ttc" id="aada__c_8h_html_aa3ca533c9964f06679ae9112f8218a2b"><div class="ttname"><a href="df/d61/ada__c_8h.html#aa3ca533c9964f06679ae9112f8218a2b">ada_get_username</a></div><div class="ttdeci">ada_string ada_get_username(ada_url result)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00140">ada_c.cpp:140</a></div></div>
<div class="ttc" id="aada__c_8h_html_ab972152184cf854bd47dae0b8f1f184a"><div class="ttname"><a href="df/d61/ada__c_8h.html#ab972152184cf854bd47dae0b8f1f184a">ada_is_valid</a></div><div class="ttdeci">bool ada_is_valid(ada_url result)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00106">ada_c.cpp:106</a></div></div>
<div class="ttc" id="aada__c_8h_html_ac716cfd3ad0ac26c83b5d4d0ffc87175"><div class="ttname"><a href="df/d61/ada__c_8h.html#ac716cfd3ad0ac26c83b5d4d0ffc87175">ada_set_search</a></div><div class="ttdeci">void ada_set_search(ada_url result, const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00313">ada_c.cpp:313</a></div></div>
<div class="ttc" id="aada__c_8h_html_ad947df503ad592fe266141faa6ed5b5d"><div class="ttname"><a href="df/d61/ada__c_8h.html#ad947df503ad592fe266141faa6ed5b5d">ada_get_href</a></div><div class="ttdeci">ada_string ada_get_href(ada_url result)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00131">ada_c.cpp:131</a></div></div>
<div class="ttc" id="aada__c_8h_html_ada26e66474296e31335e8642678aef5b"><div class="ttname"><a href="df/d61/ada__c_8h.html#ada26e66474296e31335e8642678aef5b">ada_set_protocol</a></div><div class="ttdeci">bool ada_set_protocol(ada_url result, const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00262">ada_c.cpp:262</a></div></div>
<div class="ttc" id="aada__c_8h_html_aea81956480d2eb9af02d30a72b1ce85b"><div class="ttname"><a href="df/d61/ada__c_8h.html#aea81956480d2eb9af02d30a72b1ce85b">ada_get_search</a></div><div class="ttdeci">ada_string ada_get_search(ada_url result)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00203">ada_c.cpp:203</a></div></div>
<div class="ttc" id="aada__c_8h_html_af7b3afce219ea6e237ffe07044e8604e"><div class="ttname"><a href="df/d61/ada__c_8h.html#af7b3afce219ea6e237ffe07044e8604e">ada_set_hash</a></div><div class="ttdeci">void ada_set_hash(ada_url result, const char *input, size_t length)</div><div class="ttdef"><b>Definition</b> <a href="dd/dd6/ada__c_8cpp_source.html#l00327">ada_c.cpp:327</a></div></div>
<div class="ttc" id="anamespaceada_html_ae493e1ddb3e9a7bc3fd4f8935cd67b3b"><div class="ttname"><a href="dd/d64/namespaceada.html#ae493e1ddb3e9a7bc3fd4f8935cd67b3b">ada::result</a></div><div class="ttdeci">tl::expected&lt; result_type, ada::errors &gt; result</div><div class="ttdef"><b>Definition</b> <a href="dd/d6b/implementation_8h_source.html#l00021">implementation.h:21</a></div></div>
<div class="ttc" id="astructada__owned__string_html"><div class="ttname"><a href="df/d1e/structada__owned__string.html">ada_owned_string</a></div><div class="ttdef"><b>Definition</b> <a href="df/d61/ada__c_8h_source.html#l00023">ada_c.h:23</a></div></div>
<div class="ttc" id="astructada__string_html"><div class="ttname"><a href="d2/daa/structada__string.html">ada_string</a></div><div class="ttdef"><b>Definition</b> <a href="df/d61/ada__c_8h_source.html#l00017">ada_c.h:17</a></div></div>
<div class="ttc" id="astructada__string_html_a091d98b7661f46d311cff4f06ab8889d"><div class="ttname"><a href="d2/daa/structada__string.html#a091d98b7661f46d311cff4f06ab8889d">ada_string::data</a></div><div class="ttdeci">const char * data</div><div class="ttdef"><b>Definition</b> <a href="df/d61/ada__c_8h_source.html#l00018">ada_c.h:18</a></div></div>
<div class="ttc" id="astructada__string_html_a9493413d41e1003fd0da00457fccd94f"><div class="ttname"><a href="d2/daa/structada__string.html#a9493413d41e1003fd0da00457fccd94f">ada_string::length</a></div><div class="ttdeci">size_t length</div><div class="ttdef"><b>Definition</b> <a href="df/d61/ada__c_8h_source.html#l00019">ada_c.h:19</a></div></div>
</div><!-- fragment --><p>When linking against the ada library from C++, be minding that ada requires access to the standard C++ library. E.g., you may link with the C++ compiler.</p>
<p>E.g., if you grab our single-header C++ files (<code><a class="el" href="d8/d50/ada_8cpp.html">ada.cpp</a></code> and <code><a class="el" href="d0/da8/ada_8h.html" title="Includes all definitions for Ada.">ada.h</a></code>), as well as the C header (<code><a class="el" href="df/d61/ada__c_8h.html" title="Includes the C definitions for Ada. This is a C file, not C++.">ada_c.h</a></code>), you can often compile a C program (<code>demo.c</code>) as follows under Linux/macOS systems:</p>
<div class="fragment"><div class="line">c++ -c ada.cpp -std=c++20</div>
<div class="line">cc -c demo.c</div>
<div class="line">c++ demo.o ada.o -o cdemo</div>
<div class="line">./cdemo</div>
</div><!-- fragment --><h2><a class="anchor" id="autotoc_md25"></a>
Command-line interface</h2>
<p>For more information about command-line options, please refer to the <a class="el" href="db/d8a/md_docs_2cli.html">CLI documentation</a>.</p>
<h2><a class="anchor" id="autotoc_md26"></a>
CMake dependency</h2>
<p>See the file <code>tests/installation/CMakeLists.txt</code> for an example of how you might use ada from your own CMake project, after having installed ada on your system.</p>
<h1><a class="anchor" id="autotoc_md27"></a>
Contributing</h1>
<h2><a class="anchor" id="autotoc_md28"></a>
Building</h2>
<p>Ada uses cmake as a build system, but also supports Bazel. It's recommended you to run the following commands to build it locally.</p>
<p>Without tests:</p>
<ul>
<li><b>Build</b>: <code>cmake -B build &amp;&amp; cmake --build build</code></li>
</ul>
<p>With tests (requires git):</p>
<ul>
<li><b>Build</b>: <code>cmake -B build -DADA_TESTING=ON &amp;&amp; cmake --build build</code></li>
<li><b>Test</b>: <code>ctest --output-on-failure --test-dir build</code></li>
</ul>
<p>With tests (requires available local packages):</p>
<ul>
<li><b>Build</b>: <code>cmake -B build -DADA_TESTING=ON -D CPM_USE_LOCAL_PACKAGES=ON &amp;&amp; cmake --build build</code></li>
<li><b>Test</b>: <code>ctest --output-on-failure --test-dir build</code></li>
</ul>
<p>Windows users need additional flags to specify the build configuration, e.g. <code>--config Release</code>.</p>
<p>The project can also be built via docker using default docker file of repository with following commands.</p>
<p><code>docker build -t ada-builder . &amp;&amp; docker run --rm -it -v ${PWD}:/repo ada-builder</code></p>
<h2><a class="anchor" id="autotoc_md29"></a>
Amalgamation</h2>
<p>You may amalgamate all source files into only two files (<code><a class="el" href="d0/da8/ada_8h.html" title="Includes all definitions for Ada.">ada.h</a></code> and <code><a class="el" href="d8/d50/ada_8cpp.html">ada.cpp</a></code>) by typing executing the Python 3 script <code>singleheader/amalgamate.py</code>. By default, the files are created in the <code>singleheader</code> directory.</p>
<h2><a class="anchor" id="autotoc_md30"></a>
License</h2>
<p>This code is made available under the Apache License 2.0 as well as the MIT license.</p>
<p>Our tests include third-party code and data. The benchmarking code includes third-party code: it is provided for research purposes only and not part of the library.</p>
<h2><a class="anchor" id="autotoc_md31"></a>
Further reading</h2>
<ul>
<li>Yagiz Nizipli, Daniel Lemire, <a href="https://doi.org/10.1002/spe.3296">Parsing Millions of URLs per Second</a>, Software: Practice and Experience 54(5) May 2024. </li>
</ul>
</div></div><!-- PageDoc -->
<a href="doxygen_crawl.html"></a>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.9.6-->
<!-- start footer part -->
<div id="nav-path"><!-- id is needed for treeview function! --></div>
</body>
</html>
